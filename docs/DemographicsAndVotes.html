<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-0.9.612">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Empirical guide to analyzing Wisconsin Election Data - Combining Demographic &amp; Election data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Empirical guide to analyzing Wisconsin Election Data</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html">Home</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./ReportingUnitsVsWards.html">Reporting Units vs.&nbsp;Wards</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./RegisteredVoters.html">Registered Voters</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./WardDemographics.html">Ward Demographics</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./DemographicsAndVotes.html" aria-current="page">Combining Demographic &amp; Election data</a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#retrieve-election-results" id="toc-retrieve-election-results" class="nav-link active" data-scroll-target="#retrieve-election-results">Retrieve election results</a></li>
  <li><a href="#retrieve-ward-demographics" id="toc-retrieve-ward-demographics" class="nav-link" data-scroll-target="#retrieve-ward-demographics">Retrieve ward demographics</a></li>
  <li><a href="#calculate-ward-majority-group" id="toc-calculate-ward-majority-group" class="nav-link" data-scroll-target="#calculate-ward-majority-group">calculate ward majority group</a></li>
  <li><a href="#aggregate-election-results-by-ward-majority-group" id="toc-aggregate-election-results-by-ward-majority-group" class="nav-link" data-scroll-target="#aggregate-election-results-by-ward-majority-group">aggregate election results by ward majority group</a></li>
  <li><a href="#linear-regression" id="toc-linear-regression" class="nav-link" data-scroll-target="#linear-regression">linear regression</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Combining Demographic &amp; Election data</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<p>Once we have demographic statistics <em>and</em> election statistics for the same geographic level, we can combine them to run various analyses.</p>
<p>Here is a simple example, calculating the relative performance of the Democratic candidate in gubernatorial and presidential election in City of Milwaukee wards. I present the results separately for wards where the majority of adults are Black, non-Hispanic white, Hispanic or Latino, etc.</p>
<section id="retrieve-election-results" class="level1">
<h1>Retrieve election results</h1>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtsummary)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">warning =</span> <span class="cn">FALSE</span>, <span class="at">message =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>orig.wec <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"election-data/OriginalWEC_Pres-GOV_2012-2022_ReportingUnits.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The elections file contains the official election results for each reporting unit in each election year. My analysis is limited to just the City of Milwaukee, where each reporting unit is one ward and wards stayed the same from 2012-2020. Their boundaries then changed to accomodate redistricting in 2022.</p>
<p>See the file <code>election-data/official-wec/CombineFiles.R</code> for a demonstration of how to clean and combine official WEC ward returns.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># subset city of milwaukee wards</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>mke.ward.votes <span class="ot">&lt;-</span> orig.wec <span class="sc">%&gt;%</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(county <span class="sc">==</span> <span class="st">"MILWAUKEE"</span>,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>         <span class="fu">str_detect</span>(rep_unit, <span class="st">"CITY OF MILWAUKEE"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ward =</span> <span class="fu">as.numeric</span>(<span class="fu">word</span>(rep_unit, <span class="sc">-</span><span class="dv">1</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ward, year, office, total, rep, dem)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>mke.ward.votes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,977 × 6
    ward  year office    total   rep   dem
   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1     1  2012 president  1489   297  1185
 2     2  2012 president   523    23   500
 3     3  2012 president  1138   229   909
 4     4  2012 president  1868   275  1576
 5     5  2012 president   917   125   789
 6     6  2012 president  1875   462  1395
 7     7  2012 president   679   194   480
 8     8  2012 president  1553   371  1172
 9     9  2012 president   857   126   725
10    10  2012 president  1278   346   926
# … with 1,967 more rows</code></pre>
</div>
</div>
</section>
<section id="retrieve-ward-demographics" class="level1">
<h1>Retrieve ward demographics</h1>
<p>Next, I retrieve the ward statistics for voting age population by race/ethnicity. See the chapter on “Ward Demographics” for details about calculating this. There are two Milwaukee ward demographic files, one containing statistics for the 2011 ward vintage, and the other containing the 2022 ward vintage.</p>
<p>I combine the two into a single dataframe in long format. There is 1 row for each unique combination of ward, year, and demographic group. The following abbreviations are used:</p>
<ul>
<li>vap = voting age population</li>
<li>aian = Alaska Native or Pacific Islander (non-Hispanic)</li>
<li>asian = Asian (non-Hispanic)</li>
<li>black = Black or African American (non-Hispanic)</li>
<li>hisp = Hispanic or Latino (any race)</li>
<li>white = white (non-Hispanic)</li>
<li>other = other (non-Hispanic)</li>
<li>two = 2 or more race (non-Hispanic)</li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># city of milwaukee ward demographics, wards used from 2012-2020</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>mke<span class="fl">.2011</span>ward.demographics <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/ward-demographics/Wards2011_VAP_2010to2020.csv"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(ward_2011, <span class="st">"^Milwaukee - C"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>), <span class="at">names_to =</span> <span class="st">"year"</span>, <span class="at">values_to =</span> <span class="st">"count"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.numeric</span>(<span class="fu">str_sub</span>(year, <span class="sc">-</span><span class="dv">4</span>, <span class="sc">-</span><span class="dv">1</span>)),</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">ward =</span> <span class="fu">as.numeric</span>(<span class="fu">word</span>(ward_2011, <span class="sc">-</span><span class="dv">1</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ward, year, group, count) <span class="sc">%&gt;%</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ward, year) <span class="sc">%&gt;%</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct =</span> (count<span class="sc">/</span>count[group <span class="sc">==</span> <span class="st">"vap"</span>])<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co"># city of milwaukee ward demographics, wards used from 2022-</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>mke<span class="fl">.2022</span>ward.demographics <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/ward-demographics/Wards2022_VAP_2020.csv"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(ward_2022, <span class="st">"^Milwaukee - C"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># set year to 2022, as this is the election year these wards apply to</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2022</span>,</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>         <span class="at">ward =</span> <span class="fu">as.numeric</span>(<span class="fu">word</span>(ward_2022, <span class="sc">-</span><span class="dv">1</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">count =</span> count_2020) <span class="sc">%&gt;%</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ward, year, group, count) <span class="sc">%&gt;%</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ward, year) <span class="sc">%&gt;%</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct =</span> (count<span class="sc">/</span>count[group <span class="sc">==</span> <span class="st">"vap"</span>])<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>mke.combined.ward.demographics <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(mke<span class="fl">.2011</span>ward.demographics,</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>                                            mke<span class="fl">.2022</span>ward.demographics) <span class="sc">%&gt;%</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(ward, year, group)</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>mke.combined.ward.demographics</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20,718 × 5
    ward  year group     count     pct
   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;
 1     1  2010 vap        2604 100    
 2     1  2010 vap_aian      6   0.230
 3     1  2010 vap_asian   120   4.61 
 4     1  2010 vap_black  1138  43.7  
 5     1  2010 vap_hisp    426  16.4  
 6     1  2010 vap_nhpi      0   0    
 7     1  2010 vap_other     4   0.154
 8     1  2010 vap_two      50   1.92 
 9     1  2010 vap_white   860  33.0  
10     1  2012 vap        2583 100    
# … with 20,708 more rows</code></pre>
</div>
</div>
</section>
<section id="calculate-ward-majority-group" class="level1">
<h1>calculate ward majority group</h1>
<p>I then determine which group, if any, makes up at outright majority of the ward’s voting age population in that year.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>mke.ward.majority <span class="ot">&lt;-</span> mke.combined.ward.demographics <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(group <span class="sc">!=</span> <span class="st">"vap"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, ward) <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(<span class="at">order_by =</span> count, <span class="at">n =</span> <span class="dv">1</span>, <span class="at">with_ties =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">vap_majority =</span> <span class="fu">if_else</span>(pct <span class="sc">&gt;</span> <span class="dv">50</span>,</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>                                <span class="at">true =</span> <span class="fu">word</span>(group, <span class="sc">-</span><span class="dv">1</span>, <span class="at">sep =</span> <span class="st">"_"</span>),</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>                                <span class="at">false =</span> <span class="st">"no majority"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ward, year, vap_majority)</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>mke.ward.majority</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,302 × 3
    ward  year vap_majority
   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       
 1     1  2010 no majority 
 2     2  2010 black       
 3     3  2010 black       
 4     4  2010 black       
 5     5  2010 black       
 6     6  2010 no majority 
 7     7  2010 no majority 
 8     8  2010 black       
 9     9  2010 black       
10    10  2010 no majority 
# … with 2,292 more rows</code></pre>
</div>
</div>
</section>
<section id="aggregate-election-results-by-ward-majority-group" class="level1 page-columns page-full">
<h1>aggregate election results by ward majority group</h1>
<p>Then, I merge the ward majority dataframe with the election results dataframe, and aggregate the votes by majority group.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>mke.ward.majority.totals <span class="ot">&lt;-</span> mke.ward.votes <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(mke.ward.majority) <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, office, vap_majority) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">wards =</span> <span class="fu">n</span>(),</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>            <span class="fu">across</span>(<span class="at">.cols =</span> <span class="fu">where</span>(is.numeric), <span class="at">.fns =</span> sum)) <span class="sc">%&gt;%</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dem_pct_2pty =</span> (dem<span class="sc">/</span>(rep <span class="sc">+</span> dem))<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(total <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>mke.ward.majority.totals</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 31 × 9
    year office    vap_majority wards  ward  total   rep    dem dem_pct_2pty
   &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;        &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;        &lt;dbl&gt;
 1  2012 president asian            1   171    230    10    218         95.6
 2  2012 president black          136 12679 123308  7429 115406         94.0
 3  2012 president hisp            44 11056  20122  2861  17117         85.7
 4  2012 president no majority     26  3598  21584  3968  17377         81.4
 5  2012 president white          118 25487 122143 42419  77692         64.7
 6  2014 governor  asian            1   171    110     3    106         97.2
 7  2014 governor  black          138 12541  90805  7211  82923         92.0
 8  2014 governor  hisp            45 11340  11902  2453   9277         79.1
 9  2014 governor  no majority     26  4055  14127  3370  10574         75.8
10  2014 governor  white          115 24884  88390 33619  53455         61.4
# … with 21 more rows</code></pre>
</div>
</div>
<p>Finally, I use the {{gt}} package to create a nicely formatted table of results.</p>
<div class="cell page-columns page-full">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>mke.ward.majority.totals <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">office_year =</span> <span class="fu">paste</span>(year, office)) <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(office_year, vap_majority, wards, <span class="at">dem_share =</span> dem_pct_2pty) <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> vap_majority, <span class="at">values_from =</span> <span class="fu">c</span>(dem_share, wards),</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">names_glue =</span> <span class="st">"{vap_majority}:{.value}"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(office_year, <span class="fu">starts_with</span>(<span class="st">"black"</span>), <span class="fu">starts_with</span>(<span class="st">"white"</span>), <span class="fu">starts_with</span>(<span class="st">"hisp"</span>),</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>         <span class="fu">starts_with</span>(<span class="st">"no majority"</span>), <span class="fu">starts_with</span>(<span class="st">"asian"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">rowname_col =</span> <span class="st">"office_year"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_spanner_delim</span>(<span class="st">":"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_percent</span>(<span class="at">columns =</span> <span class="fu">contains</span>(<span class="st">"dem_share"</span>), <span class="at">decimals =</span> <span class="dv">0</span>, <span class="at">scale =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_color</span>(<span class="at">columns =</span> <span class="fu">contains</span>(<span class="st">"dem_share"</span>), </span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">domain =</span> <span class="fu">c</span>(<span class="fu">min</span>(mke.ward.majority.totals<span class="sc">$</span>dem_pct_2pty),</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">max</span>(mke.ward.majority.totals<span class="sc">$</span>dem_pct_2pty)),</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>             <span class="at">palette =</span> <span class="st">"Blues"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Election results in City of Milwaukee wards"</span>,</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">subtitle =</span> <span class="st">"by the racial/ethnic majority group of adults in each ward"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_footnote</span>(<span class="st">"Democratic candidate's share of the two-party vote"</span>,</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>               <span class="at">locations =</span> <span class="fu">cells_column_labels</span>(<span class="fu">contains</span>(<span class="st">"dem_share"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_footnote</span>(<span class="st">"2012-2018 ward population statistics are linearly interpolated using 2010 and 2020 census data. 2020 and 2022 statistics both use 2020 census data."</span>,</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>               <span class="at">locations =</span> <span class="fu">cells_column_labels</span>(<span class="fu">contains</span>(<span class="st">"wards"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_footnote</span>(<span class="st">"The wards used in 2022 were different than the wards used from 2012-2020."</span>,</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>               <span class="at">locations =</span> <span class="fu">cells_stub</span>(<span class="at">rows =</span> <span class="dv">6</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display column-page">

<div id="xaqdfsbnut" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#xaqdfsbnut table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#xaqdfsbnut thead, #xaqdfsbnut tbody, #xaqdfsbnut tfoot, #xaqdfsbnut tr, #xaqdfsbnut td, #xaqdfsbnut th {
  border-style: none;
}

#xaqdfsbnut p {
  margin: 0;
  padding: 0;
}

#xaqdfsbnut .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#xaqdfsbnut .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#xaqdfsbnut .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#xaqdfsbnut .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#xaqdfsbnut .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xaqdfsbnut .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xaqdfsbnut .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xaqdfsbnut .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#xaqdfsbnut .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#xaqdfsbnut .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#xaqdfsbnut .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#xaqdfsbnut .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#xaqdfsbnut .gt_spanner_row {
  border-bottom-style: hidden;
}

#xaqdfsbnut .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#xaqdfsbnut .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#xaqdfsbnut .gt_from_md > :first-child {
  margin-top: 0;
}

#xaqdfsbnut .gt_from_md > :last-child {
  margin-bottom: 0;
}

#xaqdfsbnut .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#xaqdfsbnut .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#xaqdfsbnut .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#xaqdfsbnut .gt_row_group_first td {
  border-top-width: 2px;
}

#xaqdfsbnut .gt_row_group_first th {
  border-top-width: 2px;
}

#xaqdfsbnut .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xaqdfsbnut .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#xaqdfsbnut .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#xaqdfsbnut .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xaqdfsbnut .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xaqdfsbnut .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#xaqdfsbnut .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#xaqdfsbnut .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#xaqdfsbnut .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xaqdfsbnut .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xaqdfsbnut .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xaqdfsbnut .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xaqdfsbnut .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xaqdfsbnut .gt_left {
  text-align: left;
}

#xaqdfsbnut .gt_center {
  text-align: center;
}

#xaqdfsbnut .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#xaqdfsbnut .gt_font_normal {
  font-weight: normal;
}

#xaqdfsbnut .gt_font_bold {
  font-weight: bold;
}

#xaqdfsbnut .gt_font_italic {
  font-style: italic;
}

#xaqdfsbnut .gt_super {
  font-size: 65%;
}

#xaqdfsbnut .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#xaqdfsbnut .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#xaqdfsbnut .gt_indent_1 {
  text-indent: 5px;
}

#xaqdfsbnut .gt_indent_2 {
  text-indent: 10px;
}

#xaqdfsbnut .gt_indent_3 {
  text-indent: 15px;
}

#xaqdfsbnut .gt_indent_4 {
  text-indent: 20px;
}

#xaqdfsbnut .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="11" class="gt_heading gt_title gt_font_normal" style="">Election results in City of Milwaukee wards</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="11" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style="">by the racial/ethnic majority group of adults in each ward</td>
    </tr>
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" scope="col" id=""></th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="black">
        <span class="gt_column_spanner">black</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="white">
        <span class="gt_column_spanner">white</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="hisp">
        <span class="gt_column_spanner">hisp</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="no majority">
        <span class="gt_column_spanner">no majority</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="asian">
        <span class="gt_column_spanner">asian</span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="dem_share<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>">dem_share<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wards<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>2</sup></span>">wards<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>2</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="dem_share<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>">dem_share<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wards<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>2</sup></span>">wards<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>2</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="dem_share<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>">dem_share<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wards<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>2</sup></span>">wards<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>2</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="dem_share<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>">dem_share<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wards<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>2</sup></span>">wards<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>2</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="dem_share<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>">dem_share<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wards<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>2</sup></span>">wards<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>2</sup></span></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><th id="stub_1_1" scope="row" class="gt_row gt_left gt_stub">2012 president</th>
<td headers="stub_1_1 black:dem_share" class="gt_row gt_right" style="background-color: #09488F; color: #FFFFFF;">94%</td>
<td headers="stub_1_1 black:wards" class="gt_row gt_right">136</td>
<td headers="stub_1_1 white:dem_share" class="gt_row gt_right" style="background-color: #E5EFF9; color: #000000;">65%</td>
<td headers="stub_1_1 white:wards" class="gt_row gt_right">118</td>
<td headers="stub_1_1 hisp:dem_share" class="gt_row gt_right" style="background-color: #3684BF; color: #FFFFFF;">86%</td>
<td headers="stub_1_1 hisp:wards" class="gt_row gt_right">44</td>
<td headers="stub_1_1 no majority:dem_share" class="gt_row gt_right" style="background-color: #59A1CF; color: #FFFFFF;">81%</td>
<td headers="stub_1_1 no majority:wards" class="gt_row gt_right">26</td>
<td headers="stub_1_1 asian:dem_share" class="gt_row gt_right" style="background-color: #093C7C; color: #FFFFFF;">96%</td>
<td headers="stub_1_1 asian:wards" class="gt_row gt_right">1</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_left gt_stub">2014 governor</th>
<td headers="stub_1_2 black:dem_share" class="gt_row gt_right" style="background-color: #0E56A0; color: #FFFFFF;">92%</td>
<td headers="stub_1_2 black:wards" class="gt_row gt_right">138</td>
<td headers="stub_1_2 white:dem_share" class="gt_row gt_right" style="background-color: #F7FBFF; color: #000000;">61%</td>
<td headers="stub_1_2 white:wards" class="gt_row gt_right">115</td>
<td headers="stub_1_2 hisp:dem_share" class="gt_row gt_right" style="background-color: #6EAFD7; color: #000000;">79%</td>
<td headers="stub_1_2 hisp:wards" class="gt_row gt_right">45</td>
<td headers="stub_1_2 no majority:dem_share" class="gt_row gt_right" style="background-color: #93C4DF; color: #000000;">76%</td>
<td headers="stub_1_2 no majority:wards" class="gt_row gt_right">26</td>
<td headers="stub_1_2 asian:dem_share" class="gt_row gt_right" style="background-color: #08306B; color: #FFFFFF;">97%</td>
<td headers="stub_1_2 asian:wards" class="gt_row gt_right">1</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_left gt_stub">2016 president</th>
<td headers="stub_1_3 black:dem_share" class="gt_row gt_right" style="background-color: #08509B; color: #FFFFFF;">93%</td>
<td headers="stub_1_3 black:wards" class="gt_row gt_right">141</td>
<td headers="stub_1_3 white:dem_share" class="gt_row gt_right" style="background-color: #D0E1F2; color: #000000;">69%</td>
<td headers="stub_1_3 white:wards" class="gt_row gt_right">110</td>
<td headers="stub_1_3 hisp:dem_share" class="gt_row gt_right" style="background-color: #4996C9; color: #FFFFFF;">83%</td>
<td headers="stub_1_3 hisp:wards" class="gt_row gt_right">46</td>
<td headers="stub_1_3 no majority:dem_share" class="gt_row gt_right" style="background-color: #6CAED6; color: #000000;">79%</td>
<td headers="stub_1_3 no majority:wards" class="gt_row gt_right">27</td>
<td headers="stub_1_3 asian:dem_share" class="gt_row gt_right" style="background-color: #093A79; color: #FFFFFF;">96%</td>
<td headers="stub_1_3 asian:wards" class="gt_row gt_right">1</td></tr>
    <tr><th id="stub_1_4" scope="row" class="gt_row gt_left gt_stub">2018 governor</th>
<td headers="stub_1_4 black:dem_share" class="gt_row gt_right" style="background-color: #1159A3; color: #FFFFFF;">92%</td>
<td headers="stub_1_4 black:wards" class="gt_row gt_right">142</td>
<td headers="stub_1_4 white:dem_share" class="gt_row gt_right" style="background-color: #CBDEF1; color: #000000;">70%</td>
<td headers="stub_1_4 white:wards" class="gt_row gt_right">109</td>
<td headers="stub_1_4 hisp:dem_share" class="gt_row gt_right" style="background-color: #4C98CA; color: #FFFFFF;">83%</td>
<td headers="stub_1_4 hisp:wards" class="gt_row gt_right">46</td>
<td headers="stub_1_4 no majority:dem_share" class="gt_row gt_right" style="background-color: #74B2D8; color: #000000;">79%</td>
<td headers="stub_1_4 no majority:wards" class="gt_row gt_right">27</td>
<td headers="stub_1_4 asian:dem_share" class="gt_row gt_right" style="background-color: #083471; color: #FFFFFF;">97%</td>
<td headers="stub_1_4 asian:wards" class="gt_row gt_right">1</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_left gt_stub">2020 president</th>
<td headers="stub_1_5 black:dem_share" class="gt_row gt_right" style="background-color: #145DA6; color: #FFFFFF;">91%</td>
<td headers="stub_1_5 black:wards" class="gt_row gt_right">143</td>
<td headers="stub_1_5 white:dem_share" class="gt_row gt_right" style="background-color: #BCD7EB; color: #000000;">71%</td>
<td headers="stub_1_5 white:wards" class="gt_row gt_right">106</td>
<td headers="stub_1_5 hisp:dem_share" class="gt_row gt_right" style="background-color: #7CB7DA; color: #000000;">78%</td>
<td headers="stub_1_5 hisp:wards" class="gt_row gt_right">46</td>
<td headers="stub_1_5 no majority:dem_share" class="gt_row gt_right" style="background-color: #8DC0DD; color: #000000;">76%</td>
<td headers="stub_1_5 no majority:wards" class="gt_row gt_right">28</td>
<td headers="stub_1_5 asian:dem_share" class="gt_row gt_right" style="background-color: #9ECAE1; color: #000000;">75%</td>
<td headers="stub_1_5 asian:wards" class="gt_row gt_right">1</td></tr>
    <tr><th id="stub_1_6" scope="row" class="gt_row gt_left gt_stub">2022 governor<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>3</sup></span></th>
<td headers="stub_1_6 black:dem_share" class="gt_row gt_right" style="background-color: #0C559F; color: #FFFFFF;">92%</td>
<td headers="stub_1_6 black:wards" class="gt_row gt_right">144</td>
<td headers="stub_1_6 white:dem_share" class="gt_row gt_right" style="background-color: #9AC7E0; color: #000000;">75%</td>
<td headers="stub_1_6 white:wards" class="gt_row gt_right">119</td>
<td headers="stub_1_6 hisp:dem_share" class="gt_row gt_right" style="background-color: #5CA3D0; color: #FFFFFF;">81%</td>
<td headers="stub_1_6 hisp:wards" class="gt_row gt_right">43</td>
<td headers="stub_1_6 no majority:dem_share" class="gt_row gt_right" style="background-color: #7CB7D9; color: #000000;">78%</td>
<td headers="stub_1_6 no majority:wards" class="gt_row gt_right">37</td>
<td headers="stub_1_6 asian:dem_share" class="gt_row gt_right" style="background-color: #1862AA; color: #FFFFFF;">90%</td>
<td headers="stub_1_6 asian:wards" class="gt_row gt_right">1</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="11"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> Democratic candidate's share of the two-party vote</td>
    </tr>
    <tr>
      <td class="gt_footnote" colspan="11"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>2</sup></span> 2012-2018 ward population statistics are linearly interpolated using 2010 and 2020 census data. 2020 and 2022 statistics both use 2020 census data.</td>
    </tr>
    <tr>
      <td class="gt_footnote" colspan="11"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>3</sup></span> The wards used in 2022 were different than the wards used from 2012-2020.</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
</section>
<section id="linear-regression" class="level1">
<h1>linear regression</h1>
<p>Extrapolating individual voter behavior from the table above risks committing the <a href="https://en.wikipedia.org/wiki/Ecological_fallacy">ecological fallacy</a>. To better measure how demographics correlate with election results, I construct a regression model.</p>
<p>Overall, the model confirms the correlations revealed in the simple ward majority table. Keep reading for more details.</p>
<p>First, I prepare the data, so that I am left with 1 row per ward in each election. I have variables for the total number of voters, the Democratic candidate’s share of the 2-party vote, and the proportion of adults made up by each race. I create a combined <code>other</code> category containing all adults who aren’t Black, white, Hispanic/Latino, or Asian. I also add dummy variables for each election year beginning in 2014.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>wards.votes.vap.pct <span class="ot">&lt;-</span> mke.combined.ward.demographics <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>pct) <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> group, <span class="at">values_from =</span> count) <span class="sc">%&gt;%</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">vap_other2 =</span> vap_other <span class="sc">+</span> vap_two <span class="sc">+</span> vap_aian <span class="sc">+</span> vap_nhpi) <span class="sc">%&gt;%</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(mke.ward.votes) <span class="sc">%&gt;%</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ward, year, office, total, dem, rep, vap, vap_black, vap_white,</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>         vap_hisp, vap_asian, vap_other2) <span class="sc">%&gt;%</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate percentages</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total_2party =</span> dem <span class="sc">+</span> rep,</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">pdem =</span> (dem<span class="sc">/</span>total_2party)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">pvap_black =</span> (vap_black<span class="sc">/</span>vap)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">pvap_white =</span> (vap_white<span class="sc">/</span>vap)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">pvap_hisp =</span> (vap_hisp<span class="sc">/</span>vap)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">pvap_asian =</span> (vap_asian<span class="sc">/</span>vap)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">pvap_other2 =</span> (vap_other2<span class="sc">/</span>vap)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ward, year, office, total_2party, vap, <span class="fu">starts_with</span>(<span class="st">"p"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add dummy variables for each election, 2014-2022</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">x2014 =</span> <span class="fu">if_else</span>(year <span class="sc">==</span> <span class="dv">2014</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>         <span class="at">x2016 =</span> <span class="fu">if_else</span>(year <span class="sc">==</span> <span class="dv">2016</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>         <span class="at">x2018 =</span> <span class="fu">if_else</span>(year <span class="sc">==</span> <span class="dv">2018</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>         <span class="at">x2020 =</span> <span class="fu">if_else</span>(year <span class="sc">==</span> <span class="dv">2020</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>         <span class="at">x2022 =</span> <span class="fu">if_else</span>(year <span class="sc">==</span> <span class="dv">2022</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># remove ward-years with either no votes or no adults</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(pdem),</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>         vap <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(wards.votes.vap.pct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1,962
Columns: 16
$ ward         &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 4, …
$ year         &lt;dbl&gt; 2012, 2014, 2016, 2018, 2020, 2022, 2012, 2014, 2016, 201…
$ office       &lt;chr&gt; "president", "governor", "president", "governor", "presid…
$ total_2party &lt;dbl&gt; 1482, 971, 1157, 1000, 1164, 756, 523, 297, 391, 273, 352…
$ vap          &lt;dbl&gt; 2583.0, 2562.0, 2541.0, 2520.0, 2499.0, 2499.0, 869.4, 87…
$ pdem         &lt;dbl&gt; 79.95951, 76.93100, 80.81245, 80.80000, 83.67698, 82.6719…
$ pvap_black   &lt;dbl&gt; 47.27062, 50.89774, 54.58481, 58.33333, 62.14486, 62.1448…
$ pvap_white   &lt;dbl&gt; 29.910956, 26.744731, 23.526171, 20.253968, 16.926771, 16…
$ pvap_hisp    &lt;dbl&gt; 15.842044, 15.316159, 14.781582, 14.238095, 13.685474, 13…
$ pvap_asian   &lt;dbl&gt; 4.5063879, 4.4028103, 4.2975207, 4.1904762, 4.0816327, 4.…
$ pvap_other2  &lt;dbl&gt; 2.469996, 2.638564, 2.809917, 2.984127, 3.161265, 3.16126…
$ x2014        &lt;dbl&gt; 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, …
$ x2016        &lt;dbl&gt; 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, …
$ x2018        &lt;dbl&gt; 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, …
$ x2020        &lt;dbl&gt; 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, …
$ x2022        &lt;dbl&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, …</code></pre>
</div>
</div>
<p>I then create a regression model using this formula. The independent variable is the Democratic candidate’s share of the two-party vote. The regressors are the Black, Hispanic, Asian, and other adult population shares, each matched with an interaction term for the 2014, 2016, 2018, 2020, and 2022 elections. Each ward is weighted by the number of adults living in it.</p>
<p>$lm(pdem ~ pvap_black<em>x2014 + pvap_black</em>x2016 + pvap_black<em>x2018 + pvap_black</em>x2020 + pvap_black<em>x2022 + pvap_hisp</em>x2014 + pvap_hisp<em>x2016 + pvap_hisp</em>x2018 + pvap_hisp<em>x2020 + pvap_hisp</em>x2022 + pvap_asian<em>x2014 + pvap_asian</em>x2016 + pvap_asian<em>x2018 + pvap_asian</em>x2020 + pvap_asian<em>x2022 + pvap_other2</em>x2014 + pvap_other2<em>x2016 + pvap_other2</em>x2018 + pvap_other2<em>x2020 + pvap_other2</em>x2022, weights = vap)</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>pvap.lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(pdem <span class="sc">~</span> pvap_black<span class="sc">*</span>x2014 <span class="sc">+</span> pvap_black<span class="sc">*</span>x2016 <span class="sc">+</span> pvap_black<span class="sc">*</span>x2018 <span class="sc">+</span> pvap_black<span class="sc">*</span>x2020 <span class="sc">+</span> pvap_black<span class="sc">*</span>x2022 <span class="sc">+</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>     pvap_hisp<span class="sc">*</span>x2014 <span class="sc">+</span> pvap_hisp<span class="sc">*</span>x2016 <span class="sc">+</span> pvap_hisp<span class="sc">*</span>x2018 <span class="sc">+</span> pvap_hisp<span class="sc">*</span>x2020 <span class="sc">+</span> pvap_hisp<span class="sc">*</span>x2022 <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>     pvap_asian<span class="sc">*</span>x2014 <span class="sc">+</span> pvap_asian<span class="sc">*</span>x2016 <span class="sc">+</span> pvap_asian<span class="sc">*</span>x2018 <span class="sc">+</span> pvap_asian<span class="sc">*</span>x2020 <span class="sc">+</span> pvap_asian<span class="sc">*</span>x2022 <span class="sc">+</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>     pvap_other2<span class="sc">*</span>x2014 <span class="sc">+</span> pvap_other2<span class="sc">*</span>x2016 <span class="sc">+</span> pvap_other2<span class="sc">*</span>x2018 <span class="sc">+</span> pvap_other2<span class="sc">*</span>x2020 <span class="sc">+</span> pvap_other2<span class="sc">*</span>x2022,</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>   <span class="at">data =</span> wards.votes.vap.pct, <span class="at">weights =</span> vap)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Here’s how to interpret the results. The intercept is a ward in the <strong>2012 presidential election</strong> where 100% of adults are (non-Hispanic) white. The model predicts that this ward would’ve given Barack Obama 49% of the two-party vote. For every additional 1 percentage point increase in the Black share of the population, the model predicts the Democratic vote share to grow by 0.46 points; for every 1 point increase in the Latino share, a 0.37 point increase; and for every 1 point increase in the Asian share, a 0.30 point increase.</p>
<p>In the <strong>2014 gubernatorial race</strong> the results are not significantly different from 2012 for changes in the white, Black, Latino, and Asian population.</p>
<p>Changes are statistically significant in <strong>the 2016 presidential race</strong>. Relative to 2012, the predicted Democratic vote share in an entirely white ward grows by 8.2 percentage points. Every one point increase in the Black share of the population correlates with a slight (though statistically significant) 0.07 percentage point decrease in Democratic support, relative to 2012. For a one point in crease in the Latino population share, the Democratic share decreases by 0.13 points.</p>
<p>The next elections show a continuation of this trend. Relative to each group’s pattern in 2012, Democratic support increases among white adults and decreases among Black and Latino adults.</p>
<p>Here are the statistics for the <strong>2022 presidential race</strong>, relative to 2012. In a hypothetically entirely white ward, the Democratic share grows by 21 percentage points. The increase in Democratic support for every 1-point increase in the Black population slips by 0.18 percentage points. It drops by 0.28 points for each 1-point increase in the Latino population. Margins of error are larger among the smaller Asian population, but the model even finds a statistically significant drop in Democratic support here.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tbl_regression</span>(pvap.lm, <span class="at">intercept =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">add_glance_source_note</span>(</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">include =</span> <span class="fu">everything</span>(),</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">text_interpret =</span> <span class="fu">c</span>(<span class="st">"md"</span>, <span class="st">"html"</span>),</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep1 =</span> <span class="st">" = "</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep2 =</span> <span class="st">"; "</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="ahszfowrvt" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ahszfowrvt table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ahszfowrvt thead, #ahszfowrvt tbody, #ahszfowrvt tfoot, #ahszfowrvt tr, #ahszfowrvt td, #ahszfowrvt th {
  border-style: none;
}

#ahszfowrvt p {
  margin: 0;
  padding: 0;
}

#ahszfowrvt .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ahszfowrvt .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ahszfowrvt .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ahszfowrvt .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ahszfowrvt .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ahszfowrvt .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ahszfowrvt .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ahszfowrvt .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ahszfowrvt .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ahszfowrvt .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ahszfowrvt .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ahszfowrvt .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ahszfowrvt .gt_spanner_row {
  border-bottom-style: hidden;
}

#ahszfowrvt .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ahszfowrvt .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ahszfowrvt .gt_from_md > :first-child {
  margin-top: 0;
}

#ahszfowrvt .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ahszfowrvt .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ahszfowrvt .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ahszfowrvt .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ahszfowrvt .gt_row_group_first td {
  border-top-width: 2px;
}

#ahszfowrvt .gt_row_group_first th {
  border-top-width: 2px;
}

#ahszfowrvt .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ahszfowrvt .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ahszfowrvt .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ahszfowrvt .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ahszfowrvt .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ahszfowrvt .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ahszfowrvt .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ahszfowrvt .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ahszfowrvt .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ahszfowrvt .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ahszfowrvt .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ahszfowrvt .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ahszfowrvt .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ahszfowrvt .gt_left {
  text-align: left;
}

#ahszfowrvt .gt_center {
  text-align: center;
}

#ahszfowrvt .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ahszfowrvt .gt_font_normal {
  font-weight: normal;
}

#ahszfowrvt .gt_font_bold {
  font-weight: bold;
}

#ahszfowrvt .gt_font_italic {
  font-style: italic;
}

#ahszfowrvt .gt_super {
  font-size: 65%;
}

#ahszfowrvt .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ahszfowrvt .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ahszfowrvt .gt_indent_1 {
  text-indent: 5px;
}

#ahszfowrvt .gt_indent_2 {
  text-indent: 10px;
}

#ahszfowrvt .gt_indent_3 {
  text-indent: 15px;
}

#ahszfowrvt .gt_indent_4 {
  text-indent: 20px;
}

#ahszfowrvt .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Characteristic</strong>"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Beta</strong>"><strong>Beta</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>95% CI</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>95% CI</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-value</strong>"><strong>p-value</strong></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">(Intercept)</td>
<td headers="estimate" class="gt_row gt_center">49</td>
<td headers="ci" class="gt_row gt_center">45, 53</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">pvap_black</td>
<td headers="estimate" class="gt_row gt_center">0.46</td>
<td headers="ci" class="gt_row gt_center">0.43, 0.49</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">x2014</td>
<td headers="estimate" class="gt_row gt_center">-4.4</td>
<td headers="ci" class="gt_row gt_center">-10, 1.3</td>
<td headers="p.value" class="gt_row gt_center">0.13</td></tr>
    <tr><td headers="label" class="gt_row gt_left">x2016</td>
<td headers="estimate" class="gt_row gt_center">8.2</td>
<td headers="ci" class="gt_row gt_center">2.2, 14</td>
<td headers="p.value" class="gt_row gt_center">0.007</td></tr>
    <tr><td headers="label" class="gt_row gt_left">x2018</td>
<td headers="estimate" class="gt_row gt_center">9.3</td>
<td headers="ci" class="gt_row gt_center">3.3, 15</td>
<td headers="p.value" class="gt_row gt_center">0.003</td></tr>
    <tr><td headers="label" class="gt_row gt_left">x2020</td>
<td headers="estimate" class="gt_row gt_center">18</td>
<td headers="ci" class="gt_row gt_center">12, 23</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">x2022</td>
<td headers="estimate" class="gt_row gt_center">21</td>
<td headers="ci" class="gt_row gt_center">15, 26</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">pvap_hisp</td>
<td headers="estimate" class="gt_row gt_center">0.37</td>
<td headers="ci" class="gt_row gt_center">0.33, 0.41</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">pvap_asian</td>
<td headers="estimate" class="gt_row gt_center">0.30</td>
<td headers="ci" class="gt_row gt_center">0.11, 0.50</td>
<td headers="p.value" class="gt_row gt_center">0.002</td></tr>
    <tr><td headers="label" class="gt_row gt_left">pvap_other2</td>
<td headers="estimate" class="gt_row gt_center">2.9</td>
<td headers="ci" class="gt_row gt_center">1.7, 4.2</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">pvap_black * x2014</td>
<td headers="estimate" class="gt_row gt_center">0.04</td>
<td headers="ci" class="gt_row gt_center">-0.01, 0.08</td>
<td headers="p.value" class="gt_row gt_center">0.086</td></tr>
    <tr><td headers="label" class="gt_row gt_left">pvap_black * x2016</td>
<td headers="estimate" class="gt_row gt_center">-0.07</td>
<td headers="ci" class="gt_row gt_center">-0.11, -0.03</td>
<td headers="p.value" class="gt_row gt_center">0.002</td></tr>
    <tr><td headers="label" class="gt_row gt_left">pvap_black * x2018</td>
<td headers="estimate" class="gt_row gt_center">-0.09</td>
<td headers="ci" class="gt_row gt_center">-0.13, -0.04</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">pvap_black * x2020</td>
<td headers="estimate" class="gt_row gt_center">-0.15</td>
<td headers="ci" class="gt_row gt_center">-0.20, -0.11</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">pvap_black * x2022</td>
<td headers="estimate" class="gt_row gt_center">-0.18</td>
<td headers="ci" class="gt_row gt_center">-0.22, -0.14</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">x2014 * pvap_hisp</td>
<td headers="estimate" class="gt_row gt_center">-0.03</td>
<td headers="ci" class="gt_row gt_center">-0.10, 0.03</td>
<td headers="p.value" class="gt_row gt_center">0.3</td></tr>
    <tr><td headers="label" class="gt_row gt_left">x2016 * pvap_hisp</td>
<td headers="estimate" class="gt_row gt_center">-0.11</td>
<td headers="ci" class="gt_row gt_center">-0.18, -0.05</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">x2018 * pvap_hisp</td>
<td headers="estimate" class="gt_row gt_center">-0.13</td>
<td headers="ci" class="gt_row gt_center">-0.20, -0.07</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">x2020 * pvap_hisp</td>
<td headers="estimate" class="gt_row gt_center">-0.29</td>
<td headers="ci" class="gt_row gt_center">-0.35, -0.22</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">x2022 * pvap_hisp</td>
<td headers="estimate" class="gt_row gt_center">-0.28</td>
<td headers="ci" class="gt_row gt_center">-0.35, -0.22</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">x2014 * pvap_asian</td>
<td headers="estimate" class="gt_row gt_center">-0.10</td>
<td headers="ci" class="gt_row gt_center">-0.37, 0.17</td>
<td headers="p.value" class="gt_row gt_center">0.5</td></tr>
    <tr><td headers="label" class="gt_row gt_left">x2016 * pvap_asian</td>
<td headers="estimate" class="gt_row gt_center">-0.13</td>
<td headers="ci" class="gt_row gt_center">-0.39, 0.14</td>
<td headers="p.value" class="gt_row gt_center">0.4</td></tr>
    <tr><td headers="label" class="gt_row gt_left">x2018 * pvap_asian</td>
<td headers="estimate" class="gt_row gt_center">-0.23</td>
<td headers="ci" class="gt_row gt_center">-0.49, 0.03</td>
<td headers="p.value" class="gt_row gt_center">0.085</td></tr>
    <tr><td headers="label" class="gt_row gt_left">x2020 * pvap_asian</td>
<td headers="estimate" class="gt_row gt_center">-0.45</td>
<td headers="ci" class="gt_row gt_center">-0.70, -0.19</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">x2022 * pvap_asian</td>
<td headers="estimate" class="gt_row gt_center">-0.45</td>
<td headers="ci" class="gt_row gt_center">-0.71, -0.20</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">x2014 * pvap_other2</td>
<td headers="estimate" class="gt_row gt_center">-0.16</td>
<td headers="ci" class="gt_row gt_center">-1.9, 1.5</td>
<td headers="p.value" class="gt_row gt_center">0.8</td></tr>
    <tr><td headers="label" class="gt_row gt_left">x2016 * pvap_other2</td>
<td headers="estimate" class="gt_row gt_center">-1.5</td>
<td headers="ci" class="gt_row gt_center">-3.1, 0.10</td>
<td headers="p.value" class="gt_row gt_center">0.066</td></tr>
    <tr><td headers="label" class="gt_row gt_left">x2018 * pvap_other2</td>
<td headers="estimate" class="gt_row gt_center">-1.7</td>
<td headers="ci" class="gt_row gt_center">-3.2, -0.13</td>
<td headers="p.value" class="gt_row gt_center">0.033</td></tr>
    <tr><td headers="label" class="gt_row gt_left">x2020 * pvap_other2</td>
<td headers="estimate" class="gt_row gt_center">-2.4</td>
<td headers="ci" class="gt_row gt_center">-3.8, -0.94</td>
<td headers="p.value" class="gt_row gt_center">0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">x2022 * pvap_other2</td>
<td headers="estimate" class="gt_row gt_center">-2.4</td>
<td headers="ci" class="gt_row gt_center">-3.8, -0.92</td>
<td headers="p.value" class="gt_row gt_center">0.001</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="4">R² = 0.697; Adjusted R² = 0.693; Sigma = 283; Statistic = 153; p-value = &lt;0.001; df = 29; Log-likelihood = -6,892; AIC = 13,846; BIC = 14,019; Deviance = 154,298,218; Residual df = 1,932; No. Obs. = 1,962</td>
    </tr>
  </tfoot>
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> CI = Confidence Interval</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
<p>These plots visualize the changing coefficients in Democratic support for each 1-point increase in the Asian, Black, and Latino populations, relative to 2012.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>broom<span class="sc">::</span><span class="fu">tidy</span>(pvap.lm, <span class="at">conf.int =</span> T) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(term, <span class="st">"x2"</span>),</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">str_detect</span>(term, <span class="st">":"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">race =</span> <span class="fu">str_extract</span>(term, <span class="st">"pvap.*:|pvap.*$"</span>),</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">year =</span> <span class="fu">str_extract</span>(term, <span class="st">"x.*:|x.*$"</span>),</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">race =</span> <span class="fu">str_remove</span>(race, <span class="st">":"</span>),</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">year =</span> <span class="fu">str_remove</span>(year, <span class="st">":"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(race <span class="sc">!=</span> <span class="st">"pvap_other2"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_pointrange</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> estimate, <span class="at">ymin =</span> conf.low, <span class="at">ymax =</span> conf.high)) <span class="sc">+</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="at">facets =</span> <span class="sc">~</span>race) <span class="sc">+</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DemographicsAndVotes_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>